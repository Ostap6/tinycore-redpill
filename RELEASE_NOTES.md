     1.2.2.9 Fixed the issue where the font of the menu focus would be broken when changing to a 2-byte Unicode language during the first execution of menu.sh. Apply i915-related firmware only to sa6400, reduce the size of the patched dsm kernel in other models (solve the issue of insufficient space for injection of large-capacity kernel bootloader such as ds920+/ds1621+) -------------------------------------------------------------------------------------- # 2025.04.18 v1.2.2.9 # Fixed the issue where the font of the menu focus would be broken # when changing to a 2-byte Unicode language during the first execution of menu.sh. # Apply i915-related firmware only to sa6400, reduce the size of the patched dsm kernel in other models # (solve the issue of insufficient space for injection of large-capacity kernel bootloader such as ds920+/ds1621+) function showlastupdate() { cat <<EOF # 2023.12.18 v1.0.1.0 # Update : Upgrade from Tinycore version 12.0 (kernel 5.10.3) to 14.0 (kernel 6.1.2) to improve compatibility with the latest devices. # 2024.03.18 # Added RedPill bootloader hard disk porting function supporting All SHR & RAID Type DISK # 2024.03.22 v1.0.2.4 # Added NVMe bootloader support # 2024.05.13 # Menu configuration for adding nvmesystem addon # 2024.05.26 v1.0.3.0 # Integrate my, rploader.sh, myfunc.h into functions.sh, optimize distribution # 2024.06.01 v1.0.3.1, 1.0.3.2 # Added loader file packing menu for remote update, Added dom_szmax for jot mode # 2024.06.04 v1.0.3.3 # Boot entry order for jot mode synchronized with Friend's order # 2024.06.08 v1.0.3.4 # Maintain boot-wait addon when using satadom in SA6400 # 2024.06.09 v1.0.3.5 # Remove getstaticmodule() and undefined PROXY variables (cause of lkm download failure in final release) # 2024.06.10 v1.0.3.6 # Use intel_iommu on the command line # 2024.06.11 v1.0.3.7 #Add command line native satadom support option change menu # 2024.06.17 v1.0.3.8 # Sort netif order by bus-id order (Synology netif sorting method) # 2024.07.06 v1.0.3.9 # NVMe-related function supplementation and error correction # Discontinue use of sortnetif addon, discontinue use of sortnetif if there is only 1 NIC # 2024.07.07 v1.0.4.0 # Added sata_remap processing menu for SataPort reordering. # 2024.08.23 v1.0.4.1 # Added a feature to check whether the pre-counted number of disks matches when booting Friend # 2024.08.26 v1.0.4.2 # Update : Add Support DSM 7.2.2-72803 Official Version # 2024.08.31 v1.0.4.3 # No separation between USB/SATA menus in Jot Mod (boot menu merge) # 2024.09.05 v1.0.4.4 # Loader building is blocked when using Apollolake + proxmox(kvm)/qemu(kvm) (KP occurs in versions after lkm 24.8.29) # 2024.09.08 v1.0.4.5 # Solved the KP occurrence issue when using SATA-type bootloader in proxmox(kvm), # SA6400(epyc7002) integration from lkm5 (lkm 24.9.8) # 2024.09.09 v1.0.4.6 # Rearrange menu order, automatically enter Gen value when S/N or mac is not selected # 2024.09.12 v1.0.4.7 # Fix from DSM 7.2.2-72803 to DSM 7.2.2-72806 # 2024.10.14 v1.0.4.8 # Enable mmc (SD Card) bus type recognition for the bootloader # 2024.10.15 v1.0.4.9 # When mmc bus type is used, module processing method is applied with priority given to eudev instead of ddsml. # 2024.10.26 v1.0.5.0 # Improved internet check function in menu.sh # 2024.11.04 v1.0.5.1 # Added manual update feature to friend specified version, added disable/enable friend automatic update feature # ( usage : ./functions.sh update v0.1.1j | ./functions.sh autoupdate off | ./functions.sh autoupdate on ) # 2024.11.05 v1.0.5.2 # Upgraded grub version from 2.06 to 2.12 ( improved uefi, legacy boot compatibility [especially in jot mode] ) # 2024.11.14 v1.0.6.0 # Added the ability to choose between the integrated modules all-modules (tcrp) and rr-modules # 2024.11.16 v1.0.6.1 # Improved bootloader boot partition detection method # 2024.11.19 v1.0.6.2 # Changed to use only the first one when multiple bootloaders exist # 2024.11.27 v1.0.6.3 # Added ability to force loading mmc and sd modules when loading Tinycore Linux # 2024.12.17 v1.0.6.4 # Expanded MAC address support from 4 to 8. # 2024.12.20 v1.0.6.5 # Includes tinycore linux scsi module for scsi type bootloader support. # 2024.12.22 v1.0.6.6 # Discontinuing support for DS3615xs. # 2024.12.23 v1.0.6.7 # Applying REDPILL background image to grub boot # 2025.01.01 v1.0.6.8 # i915.modeset=0 menu processing improvement (FRIEND guidance console is activated when i915 transcoding is disabled) # 2025.01.06 v1.1.0.0 # Added features for distribution of xTCRP (Tinycore Linux stripped down version) # 2025.01.12 v1.1.0.1 # When using a single m.2 NVMe volume, the DDSML error issue has occurred, # so menu usage has been excluded and related support has been strengthened. # 2025.01.29 v1.2.0.0 # Added new platforms purley, broadwellnkv2, broadwellntbap and started supporting all models for each platform # 2025.02.02 v1.2.1.0 # Create tinycore-mshell and xTCRP together in grub boot. Merge Re-install boot entries without USB/SATA distinction and fix KP bug. # 2025.02.06 v1.2.1.1 # Renewal of SynoDisk bootloader injection function # 2025.02.07 v1.2.1.2 # SynoDisk with Bootloader Injection Supports NVMe DISK # 2025.02.09 v1.2.1.3 # SynoDisk with Bootloader Injection Supports Single SHR DISK # 2025.02.10 v1.2.1.4 # SynoDisk with bootloader injection feature discontinues support for BASIC or JBOD DISK # 2025.02.11 v1.2.1.5 # SynoDisk with bootloader injection uses UUID 8765-4321 instead of 6234-C863 # 2025.02.17 v1.2.1.6 # DS3615xs(bromolow) support again, LEGACY boot mode must be used! # 2025.02.25 v1.2.1.7 # SynoDisk with Bootloader Injection Supports 2.4GB /dev/md0 size (before dsm 7.1.1) # 2025.03.01 v1.2.1.8 # Modify the method of checking Internet connection in menu.sh # 2025.03.06 v1.2.1.9 # Fixed to keep graphic console screen even in Jot Mode/Legacy Boot environment (use gfxpayload=keep) # 2025.03.07 v1.2.2.0 # Activate Tinycore TTYD web console (port 7681, login use tc/P@ssw0rd) # 2025.03.11 v1.2.2.1 # TTYD web console baremetal headless support fix # 2025.03.13 v1.2.2.2 # Added to change the default value of the Grub boot entry (in the submenu) # 2025.03.29 v1.2.2.3 # Added a feature to immediately reflect changes to user_config.json (no need for loader build) # 2025.04.09 v1.2.2.4 # SynoDisk with bootloader injection Support SHR 2TB or more # 2025.04.12 v1.2.2.5 # SynoDisk with bootloader injection Support UEFI ESP and two more SHR 2TB or more # 2025.04.12 v1.2.2.6 # SynoDisk with bootloader injection Support All Type GPT (BASIC, JBOD, SHR, RAID1,5,6) # 2025.04.13 v1.2.2.7 # SynoDisk with bootloader injection Support xTCRP loader rebuild # 2025.04.15 v1.2.2.8 # Fix DS920+ 3rd partition space shortage issue with SynoDisk with bootloader injection # 2025.04.18 v1.2.2.9 # Fixed the issue where the font of the menu focus would be broken # when changing to a 2-byte Unicode language during the first execution of menu.sh. # Apply i915-related firmware only to sa6400, reduce the size of the patched dsm kernel in other models # (solve the issue of insufficient space for injection of large-capacity kernel bootloader such as ds920+/ds1621+) EOF } function showhelp() { cat <<EOF $(basename ${0}) ----------------------------------------------------------------------------------------
